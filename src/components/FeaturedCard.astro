---
import { getImage } from "astro:assets";

const { post } = Astro.props;
const { title, imageSrc } = post.data;

const heroImage = await getImage({ src: imageSrc });
---

<article class="card">
  <div
    class="card-content bg-image"
    style={`background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(${heroImage.src});`}
  >
    <h2 class="card-title">
      <a href={`/post/${post.slug}/`}>{title}</a>
    </h2>
  </div>
</article>

<style lang="scss">
  .card {
    background-color: var(--clr-dark);
    height: 25em;
    color: var(--clr-white);
    border-radius: 0.25em;
    overflow: hidden;
  }

  .card-content {
    width: 100%;
    height: 100%;
    transition: all 1s;
    position: relative;
  }

  .card-content:hover,
  .card-content:focus {
    transform: scale(1.1);
  }

  .card .card-title {
    font-size: var(--fs-5);
    line-height: 1.3;
    padding-inline: 1em;
    position: absolute;
    bottom: 10%;

    a {
      color: var(--clr-white);
    }
  }
</style>
